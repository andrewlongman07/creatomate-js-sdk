(()=>{var Ee=Object.create;var ee=Object.defineProperty;var qe=Object.getOwnPropertyDescriptor;var Ae=Object.getOwnPropertyNames;var be=Object.getPrototypeOf,Ue=Object.prototype.hasOwnProperty;var l=(e,n)=>()=>(n||e((n={exports:{}}).exports,n),n.exports);var Re=(e,n,t,r)=>{if(n&&typeof n=="object"||typeof n=="function")for(let i of Ae(n))!Ue.call(e,i)&&i!==t&&ee(e,i,{get:()=>n[i],enumerable:!(r=qe(n,i))||r.enumerable});return e};var Se=(e,n,t)=>(t=e!=null?Ee(be(e)):{},Re(n||!e||!e.__esModule?ee(t,"default",{value:e,enumerable:!0}):t,e));var W=l(V=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0});V.default=Te;var U,Ie=new Uint8Array(16);function Te(){if(!U&&(U=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!U))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return U(Ie)}});var te=l(R=>{"use strict";Object.defineProperty(R,"__esModule",{value:!0});R.default=void 0;var De=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;R.default=De});var q=l(S=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0});S.default=void 0;var $e=Le(te());function Le(e){return e&&e.__esModule?e:{default:e}}function ke(e){return typeof e=="string"&&$e.default.test(e)}var Fe=ke;S.default=Fe});var b=l(A=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;A.unsafeStringify=re;var xe=Ne(q());function Ne(e){return e&&e.__esModule?e:{default:e}}var v=[];for(let e=0;e<256;++e)v.push((e+256).toString(16).slice(1));function re(e,n=0){return v[e[n+0]]+v[e[n+1]]+v[e[n+2]]+v[e[n+3]]+"-"+v[e[n+4]]+v[e[n+5]]+"-"+v[e[n+6]]+v[e[n+7]]+"-"+v[e[n+8]]+v[e[n+9]]+"-"+v[e[n+10]]+v[e[n+11]]+v[e[n+12]]+v[e[n+13]]+v[e[n+14]]+v[e[n+15]]}function je(e,n=0){let t=re(e,n);if(!(0,xe.default)(t))throw TypeError("Stringified UUID is invalid");return t}var Be=je;A.default=Be});var ie=l(I=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0});I.default=void 0;var He=We(W()),Ve=b();function We(e){return e&&e.__esModule?e:{default:e}}var ne,J,K=0,Z=0;function Je(e,n,t){let r=n&&t||0,i=n||new Array(16);e=e||{};let o=e.node||ne,s=e.clockseq!==void 0?e.clockseq:J;if(o==null||s==null){let h=e.random||(e.rng||He.default)();o==null&&(o=ne=[h[0]|1,h[1],h[2],h[3],h[4],h[5]]),s==null&&(s=J=(h[6]<<8|h[7])&16383)}let a=e.msecs!==void 0?e.msecs:Date.now(),d=e.nsecs!==void 0?e.nsecs:Z+1,f=a-K+(d-Z)/1e4;if(f<0&&e.clockseq===void 0&&(s=s+1&16383),(f<0||a>K)&&e.nsecs===void 0&&(d=0),d>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");K=a,Z=d,J=s,a+=122192928e5;let u=((a&268435455)*1e4+d)%4294967296;i[r++]=u>>>24&255,i[r++]=u>>>16&255,i[r++]=u>>>8&255,i[r++]=u&255;let c=a/4294967296*1e4&268435455;i[r++]=c>>>8&255,i[r++]=c&255,i[r++]=c>>>24&15|16,i[r++]=c>>>16&255,i[r++]=s>>>8|128,i[r++]=s&255;for(let h=0;h<6;++h)i[r+h]=o[h];return n||(0,Ve.unsafeStringify)(i)}var Ke=Je;I.default=Ke});var G=l(T=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0});T.default=void 0;var Ze=Ge(q());function Ge(e){return e&&e.__esModule?e:{default:e}}function Qe(e){if(!(0,Ze.default)(e))throw TypeError("Invalid UUID");let n,t=new Uint8Array(16);return t[0]=(n=parseInt(e.slice(0,8),16))>>>24,t[1]=n>>>16&255,t[2]=n>>>8&255,t[3]=n&255,t[4]=(n=parseInt(e.slice(9,13),16))>>>8,t[5]=n&255,t[6]=(n=parseInt(e.slice(14,18),16))>>>8,t[7]=n&255,t[8]=(n=parseInt(e.slice(19,23),16))>>>8,t[9]=n&255,t[10]=(n=parseInt(e.slice(24,36),16))/1099511627776&255,t[11]=n/4294967296&255,t[12]=n>>>24&255,t[13]=n>>>16&255,t[14]=n>>>8&255,t[15]=n&255,t}var Xe=Qe;T.default=Xe});var Q=l(E=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0});E.URL=E.DNS=void 0;E.default=rt;var Ye=b(),ze=et(G());function et(e){return e&&e.__esModule?e:{default:e}}function tt(e){e=unescape(encodeURIComponent(e));let n=[];for(let t=0;t<e.length;++t)n.push(e.charCodeAt(t));return n}var oe="6ba7b810-9dad-11d1-80b4-00c04fd430c8";E.DNS=oe;var se="6ba7b811-9dad-11d1-80b4-00c04fd430c8";E.URL=se;function rt(e,n,t){function r(i,o,s,a){var d;if(typeof i=="string"&&(i=tt(i)),typeof o=="string"&&(o=(0,ze.default)(o)),((d=o)===null||d===void 0?void 0:d.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let f=new Uint8Array(16+i.length);if(f.set(o),f.set(i,o.length),f=t(f),f[6]=f[6]&15|n,f[8]=f[8]&63|128,s){a=a||0;for(let u=0;u<16;++u)s[a+u]=f[u];return s}return(0,Ye.unsafeStringify)(f)}try{r.name=e}catch{}return r.DNS=oe,r.URL=se,r}});var ue=l($=>{"use strict";Object.defineProperty($,"__esModule",{value:!0});$.default=void 0;function nt(e){if(typeof e=="string"){let n=unescape(encodeURIComponent(e));e=new Uint8Array(n.length);for(let t=0;t<n.length;++t)e[t]=n.charCodeAt(t)}return it(ot(st(e),e.length*8))}function it(e){let n=[],t=e.length*32,r="0123456789abcdef";for(let i=0;i<t;i+=8){let o=e[i>>5]>>>i%32&255,s=parseInt(r.charAt(o>>>4&15)+r.charAt(o&15),16);n.push(s)}return n}function ae(e){return(e+64>>>9<<4)+14+1}function ot(e,n){e[n>>5]|=128<<n%32,e[ae(n)-1]=n;let t=1732584193,r=-271733879,i=-1732584194,o=271733878;for(let s=0;s<e.length;s+=16){let a=t,d=r,f=i,u=o;t=g(t,r,i,o,e[s],7,-680876936),o=g(o,t,r,i,e[s+1],12,-389564586),i=g(i,o,t,r,e[s+2],17,606105819),r=g(r,i,o,t,e[s+3],22,-1044525330),t=g(t,r,i,o,e[s+4],7,-176418897),o=g(o,t,r,i,e[s+5],12,1200080426),i=g(i,o,t,r,e[s+6],17,-1473231341),r=g(r,i,o,t,e[s+7],22,-45705983),t=g(t,r,i,o,e[s+8],7,1770035416),o=g(o,t,r,i,e[s+9],12,-1958414417),i=g(i,o,t,r,e[s+10],17,-42063),r=g(r,i,o,t,e[s+11],22,-1990404162),t=g(t,r,i,o,e[s+12],7,1804603682),o=g(o,t,r,i,e[s+13],12,-40341101),i=g(i,o,t,r,e[s+14],17,-1502002290),r=g(r,i,o,t,e[s+15],22,1236535329),t=_(t,r,i,o,e[s+1],5,-165796510),o=_(o,t,r,i,e[s+6],9,-1069501632),i=_(i,o,t,r,e[s+11],14,643717713),r=_(r,i,o,t,e[s],20,-373897302),t=_(t,r,i,o,e[s+5],5,-701558691),o=_(o,t,r,i,e[s+10],9,38016083),i=_(i,o,t,r,e[s+15],14,-660478335),r=_(r,i,o,t,e[s+4],20,-405537848),t=_(t,r,i,o,e[s+9],5,568446438),o=_(o,t,r,i,e[s+14],9,-1019803690),i=_(i,o,t,r,e[s+3],14,-187363961),r=_(r,i,o,t,e[s+8],20,1163531501),t=_(t,r,i,o,e[s+13],5,-1444681467),o=_(o,t,r,i,e[s+2],9,-51403784),i=_(i,o,t,r,e[s+7],14,1735328473),r=_(r,i,o,t,e[s+12],20,-1926607734),t=p(t,r,i,o,e[s+5],4,-378558),o=p(o,t,r,i,e[s+8],11,-2022574463),i=p(i,o,t,r,e[s+11],16,1839030562),r=p(r,i,o,t,e[s+14],23,-35309556),t=p(t,r,i,o,e[s+1],4,-1530992060),o=p(o,t,r,i,e[s+4],11,1272893353),i=p(i,o,t,r,e[s+7],16,-155497632),r=p(r,i,o,t,e[s+10],23,-1094730640),t=p(t,r,i,o,e[s+13],4,681279174),o=p(o,t,r,i,e[s],11,-358537222),i=p(i,o,t,r,e[s+3],16,-722521979),r=p(r,i,o,t,e[s+6],23,76029189),t=p(t,r,i,o,e[s+9],4,-640364487),o=p(o,t,r,i,e[s+12],11,-421815835),i=p(i,o,t,r,e[s+15],16,530742520),r=p(r,i,o,t,e[s+2],23,-995338651),t=y(t,r,i,o,e[s],6,-198630844),o=y(o,t,r,i,e[s+7],10,1126891415),i=y(i,o,t,r,e[s+14],15,-1416354905),r=y(r,i,o,t,e[s+5],21,-57434055),t=y(t,r,i,o,e[s+12],6,1700485571),o=y(o,t,r,i,e[s+3],10,-1894986606),i=y(i,o,t,r,e[s+10],15,-1051523),r=y(r,i,o,t,e[s+1],21,-2054922799),t=y(t,r,i,o,e[s+8],6,1873313359),o=y(o,t,r,i,e[s+15],10,-30611744),i=y(i,o,t,r,e[s+6],15,-1560198380),r=y(r,i,o,t,e[s+13],21,1309151649),t=y(t,r,i,o,e[s+4],6,-145523070),o=y(o,t,r,i,e[s+11],10,-1120210379),i=y(i,o,t,r,e[s+2],15,718787259),r=y(r,i,o,t,e[s+9],21,-343485551),t=M(t,a),r=M(r,d),i=M(i,f),o=M(o,u)}return[t,r,i,o]}function st(e){if(e.length===0)return[];let n=e.length*8,t=new Uint32Array(ae(n));for(let r=0;r<n;r+=8)t[r>>5]|=(e[r/8]&255)<<r%32;return t}function M(e,n){let t=(e&65535)+(n&65535);return(e>>16)+(n>>16)+(t>>16)<<16|t&65535}function at(e,n){return e<<n|e>>>32-n}function D(e,n,t,r,i,o){return M(at(M(M(n,e),M(r,o)),i),t)}function g(e,n,t,r,i,o,s){return D(n&t|~n&r,e,n,i,o,s)}function _(e,n,t,r,i,o,s){return D(n&r|t&~r,e,n,i,o,s)}function p(e,n,t,r,i,o,s){return D(n^t^r,e,n,i,o,s)}function y(e,n,t,r,i,o,s){return D(t^(n|~r),e,n,i,o,s)}var ut=nt;$.default=ut});var fe=l(L=>{"use strict";Object.defineProperty(L,"__esModule",{value:!0});L.default=void 0;var dt=de(Q()),ft=de(ue());function de(e){return e&&e.__esModule?e:{default:e}}var lt=(0,dt.default)("v3",48,ft.default),ct=lt;L.default=ct});var le=l(k=>{"use strict";Object.defineProperty(k,"__esModule",{value:!0});k.default=void 0;var ht=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),mt={randomUUID:ht};k.default=mt});var me=l(F=>{"use strict";Object.defineProperty(F,"__esModule",{value:!0});F.default=void 0;var ce=he(le()),vt=he(W()),gt=b();function he(e){return e&&e.__esModule?e:{default:e}}function _t(e,n,t){if(ce.default.randomUUID&&!n&&!e)return ce.default.randomUUID();e=e||{};let r=e.random||(e.rng||vt.default)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,n){t=t||0;for(let i=0;i<16;++i)n[t+i]=r[i];return n}return(0,gt.unsafeStringify)(r)}var pt=_t;F.default=pt});var ve=l(x=>{"use strict";Object.defineProperty(x,"__esModule",{value:!0});x.default=void 0;function yt(e,n,t,r){switch(e){case 0:return n&t^~n&r;case 1:return n^t^r;case 2:return n&t^n&r^t&r;case 3:return n^t^r}}function X(e,n){return e<<n|e>>>32-n}function wt(e){let n=[1518500249,1859775393,2400959708,3395469782],t=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof e=="string"){let s=unescape(encodeURIComponent(e));e=[];for(let a=0;a<s.length;++a)e.push(s.charCodeAt(a))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);let r=e.length/4+2,i=Math.ceil(r/16),o=new Array(i);for(let s=0;s<i;++s){let a=new Uint32Array(16);for(let d=0;d<16;++d)a[d]=e[s*64+d*4]<<24|e[s*64+d*4+1]<<16|e[s*64+d*4+2]<<8|e[s*64+d*4+3];o[s]=a}o[i-1][14]=(e.length-1)*8/Math.pow(2,32),o[i-1][14]=Math.floor(o[i-1][14]),o[i-1][15]=(e.length-1)*8&4294967295;for(let s=0;s<i;++s){let a=new Uint32Array(80);for(let m=0;m<16;++m)a[m]=o[s][m];for(let m=16;m<80;++m)a[m]=X(a[m-3]^a[m-8]^a[m-14]^a[m-16],1);let d=t[0],f=t[1],u=t[2],c=t[3],h=t[4];for(let m=0;m<80;++m){let z=Math.floor(m/20),Oe=X(d,5)+yt(z,f,u,c)+h+n[z]+a[m]>>>0;h=c,c=u,u=X(f,30)>>>0,f=d,d=Oe}t[0]=t[0]+d>>>0,t[1]=t[1]+f>>>0,t[2]=t[2]+u>>>0,t[3]=t[3]+c>>>0,t[4]=t[4]+h>>>0}return[t[0]>>24&255,t[0]>>16&255,t[0]>>8&255,t[0]&255,t[1]>>24&255,t[1]>>16&255,t[1]>>8&255,t[1]&255,t[2]>>24&255,t[2]>>16&255,t[2]>>8&255,t[2]&255,t[3]>>24&255,t[3]>>16&255,t[3]>>8&255,t[3]&255,t[4]>>24&255,t[4]>>16&255,t[4]>>8&255,t[4]&255]}var Ct=wt;x.default=Ct});var _e=l(N=>{"use strict";Object.defineProperty(N,"__esModule",{value:!0});N.default=void 0;var Pt=ge(Q()),Mt=ge(ve());function ge(e){return e&&e.__esModule?e:{default:e}}var Ot=(0,Pt.default)("v5",80,Mt.default),Et=Ot;N.default=Et});var pe=l(j=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});j.default=void 0;var qt="00000000-0000-0000-0000-000000000000";j.default=qt});var ye=l(B=>{"use strict";Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;var At=bt(q());function bt(e){return e&&e.__esModule?e:{default:e}}function Ut(e){if(!(0,At.default)(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)}var Rt=Ut;B.default=Rt});var we=l(C=>{"use strict";Object.defineProperty(C,"__esModule",{value:!0});Object.defineProperty(C,"NIL",{enumerable:!0,get:function(){return $t.default}});Object.defineProperty(C,"parse",{enumerable:!0,get:function(){return xt.default}});Object.defineProperty(C,"stringify",{enumerable:!0,get:function(){return Ft.default}});Object.defineProperty(C,"v1",{enumerable:!0,get:function(){return St.default}});Object.defineProperty(C,"v3",{enumerable:!0,get:function(){return It.default}});Object.defineProperty(C,"v4",{enumerable:!0,get:function(){return Tt.default}});Object.defineProperty(C,"v5",{enumerable:!0,get:function(){return Dt.default}});Object.defineProperty(C,"validate",{enumerable:!0,get:function(){return kt.default}});Object.defineProperty(C,"version",{enumerable:!0,get:function(){return Lt.default}});var St=P(ie()),It=P(fe()),Tt=P(me()),Dt=P(_e()),$t=P(pe()),Lt=P(ye()),kt=P(q()),Ft=P(b()),xt=P(G());function P(e){return e&&e.__esModule?e:{default:e}}});var Ce=l(O=>{"use strict";var w=O&&O.__awaiter||function(e,n,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(u){try{f(r.next(u))}catch(c){s(c)}}function d(u){try{f(r.throw(u))}catch(c){s(c)}}function f(u){u.done?o(u.value):i(u.value).then(a,d)}f((r=r.apply(e,n||[])).next())})},Nt=O&&O.__rest||function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]]);return t};Object.defineProperty(O,"__esModule",{value:!0});O.Preview=void 0;var jt=we(),Y=class{constructor(n,t,r){this.element=n,this.ready=!1,this._pendingPromises={},this._handleMessage=o=>{if(!o.data||typeof o.data!="object"||this._iframe.contentWindow!==o.source)return;let s=o.data,{id:a,message:d,error:f}=s,u=Nt(s,["id","message","error"]);if(a){let c=this._pendingPromises[a];c&&(f?c.reject(new Error(f)):c.resolve(u),delete this._pendingPromises[a])}else switch(d){case"onReady":this.ready=!0,this.setMode(this.mode).then(),this.onReady&&this.onReady();break;case"onLoad":this.onLoad&&this.onLoad();break;case"onLoadComplete":this.onLoadComplete&&this.onLoadComplete();break;case"onPlay":this.onPlay&&this.onPlay();break;case"onPause":this.onPause&&this.onPause();break;case"onTimeChange":this.onTimeChange&&this.onTimeChange(u.time);break;case"onToolChange":this.onToolChange&&this.onToolChange(u.tool);break;case"onActiveCompositionChange":this.onActiveCompositionChange&&this.onActiveCompositionChange(u.elementId);break;case"onActiveElementsChange":this.onActiveElementsChange&&this.onActiveElementsChange(u.elementIds);break;case"onScaleChange":this.onScaleChange&&this.onScaleChange(u.scale);break;case"onStateChange":this.state=u.state,this.onStateChange&&this.onStateChange(u.state);break}},this.mode=t;let i=document.createElement("iframe");i.setAttribute("width","100%"),i.setAttribute("height","100%"),i.setAttribute("scrolling","no"),i.setAttribute("allow","autoplay"),i.setAttribute("src",`https://creatomate.com/embed?version=1.4.0&token=${r}`),i.style.border="none",i.style.display="none",n.innerHTML="",n.style.overflow="hidden",n.append(i),window.addEventListener("message",this._handleMessage),this._iframe=i}dispose(){var n;window.removeEventListener("message",this._handleMessage),(n=this._iframe.parentNode)===null||n===void 0||n.removeChild(this._iframe),this._iframe.setAttribute("src",""),this._pendingPromises={}}setMode(n){return w(this,void 0,void 0,function*(){yield this._sendCommand({message:"setMode",mode:n}).catch(t=>{throw new Error(`Failed to set mode: ${t.message}`)})})}setControls(n){return w(this,void 0,void 0,function*(){return this._sendCommand({message:"setControls",enabled:n}).catch(t=>{throw new Error(`Failed to set controls: ${t.message}`)})})}loadTemplate(n){return w(this,void 0,void 0,function*(){yield this._sendCommand({message:"setTemplate",templateId:n}).catch(t=>{throw new Error(`Failed to load template: ${t.message}`)}),this._iframe.style.display=""})}setSource(n,t=!1){return w(this,void 0,void 0,function*(){yield this._sendCommand({message:"setSource",source:n,createUndoPoint:t}).catch(r=>{throw new Error(`Failed to set source: ${r.message}`)}),this._iframe.style.display=""})}getSource(n=this.state){return n?n.elements?Object.assign(Object.assign({},n.source),{elements:n.elements.map(t=>this.getSource(t))}):n.source:{}}getElements(n=this.state){let t=[];if(n&&(n.source.type&&t.push(n),Array.isArray(n.elements)))for(let r of n.elements)t.push(...this.getElements(r));return t}findElement(n,t=this.state){if(t?.elements)for(let r of t.elements){if(n(r))return r;if("elements"in r){let i=this.findElement(n,r);if(i)return i}}}setModifications(n){return w(this,void 0,void 0,function*(){return yield this._sendCommand({message:"setModifications",modifications:n}).catch(t=>{throw new Error(`Failed to set modifications: ${t.message}`)})})}applyModifications(n){return w(this,void 0,void 0,function*(){return this._sendCommand({message:"applyModifications",modifications:n}).catch(t=>{throw new Error(`Failed to apply modifications: ${t.message}`)})})}undo(){return w(this,void 0,void 0,function*(){return this._sendCommand({message:"undo"}).catch(n=>{throw new Error(`Failed to undo: ${n.message}`)})})}redo(){return w(this,void 0,void 0,function*(){return this._sendCommand({message:"redo"}).catch(n=>{throw new Error(`Failed to redo: ${n.message}`)})})}play(){return w(this,void 0,void 0,function*(){return this._sendCommand({message:"play"}).catch(n=>{throw new Error(`Failed to play: ${n.message}`)})})}pause(){return w(this,void 0,void 0,function*(){return this._sendCommand({message:"pause"}).catch(n=>{throw new Error(`Failed to pause: ${n.message}`)})})}setTime(n){return w(this,void 0,void 0,function*(){return this._sendCommand({message:"setTime",time:n}).catch(t=>{throw new Error(`Failed to set time: ${t.message}`)})})}setLoop(n){return w(this,void 0,void 0,function*(){yield this._sendCommand({message:"setLoop",loop:n}).catch(t=>{throw new Error(`Failed to set loop: ${t.message}`)})})}setTool(n){return w(this,void 0,void 0,function*(){yield this._sendCommand({message:"setTool",tool:n}).catch(t=>{throw new Error(`Failed to set tool: ${t.message}`)})})}setActiveComposition(n){return w(this,void 0,void 0,function*(){yield this._sendCommand({message:"setActiveComposition",elementId:n}).catch(t=>{throw new Error(`Failed to set active composition: ${t.message}`)})})}setActiveElements(n){return w(this,void 0,void 0,function*(){yield this._sendCommand({message:"setActiveElements",elementIds:n}).catch(t=>{throw new Error(`Failed to set active elements: ${t.message}`)})})}setZoom(n,t){return w(this,void 0,void 0,function*(){yield this._sendCommand({message:"setZoom",mode:n,scale:t}).catch(r=>{throw new Error(`Failed to set the zoom state: ${r.message}`)})})}cacheAsset(n,t){return this._sendCommand({message:"cacheAsset",url:n},{blob:t}).catch(r=>{throw new Error(`Failed to cache asset: ${r.message}`)})}setCacheBypassRules(n){let t=n.map(r=>r.source);return this._sendCommand({message:"setCacheBypassRules",rules:t}).catch(r=>{throw new Error(`Failed to set cache bypass rules: ${r.message}`)})}_sendCommand(n,t){var r;if(!this.ready)throw new Error("The SDK is not yet ready. Please wait for the onReady event before calling any methods.");let i=(0,jt.v4)();return(r=this._iframe.contentWindow)===null||r===void 0||r.postMessage(Object.assign(Object.assign({id:i},JSON.parse(JSON.stringify(n))),t),"*"),new Promise((o,s)=>this._pendingPromises[i]={resolve:o,reject:s})}};O.Preview=Y});var Pe=l(H=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0});H.Preview=void 0;var Bt=Ce();Object.defineProperty(H,"Preview",{enumerable:!0,get:function(){return Bt.Preview}})});var Me=Se(Pe());window.CreatomatePreview=Me.Preview;})();
